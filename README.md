# ModelAngelo HMM Merger Code

Code to merge together .hmm files generated by [ModelAngelo](https://github.com/3dem/model-angelo).

Use this code to merge .hmm files together

Both **getarray.py** and **aaprobtohmm.py** should be placed in the same folder that Modelangelo was ran in
(for a default MA run this would be the parent folder to 'output' therefore getarray.py will look in ./output/hmm_profiles for the .hmm files that you requested to merge)

Edit **aaprobstohmm.py** to select which .hmm files you'd like to stitch.

```
#Define the list of .hmm filenames and integers
hmm_filenames = ["BG.hmm",2,"A0.hmm"]
```

In this example you will stitch together BG.hmm with an insertion of 2 random amino acids then A0.hmm
**aaprobtohmm.py** will call on the getarray.py and generate a concatenated probability array.
This aray will then be run through modelangelo's orignal ump_aa_logits_to_hmm

```
# Call get_array and get the concatenated array
concatenated_array = get_array(hmm_filenames)

# Use the concatenated array as input to dump_aa_logits_to_hmm_file
dump_aa_logits_to_hmm_file(aa_logits=concatenated_array, output_file="heavyassembled.hmm")
```
